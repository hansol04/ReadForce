import React, { useState } from 'react';
import './css/ArticleQuestionPage.css';
import { useNavigate, useLocation } from 'react-router-dom';

const dummyArticle = {
  id: 1,
  title: 'í›„ ëŒ€í†µë ¹, íŠ¸ëŸ¼í”„ ì²« í†µí™”...ë¬´ìŠ¨ ì–˜ê¸° ë‚˜ëˆ´ë‚˜',
  summary: 'CBSë…¸ì»·ë‰´ìŠ¤ ì´í•œí˜• ê¸°ìž | 2025-06-06 23:52',
  content: `2025ë…„ 6ì›” 6ì¼, ì´ìž¬ëª… ëŒ€í†µë ¹ì€ ë¯¸êµ­ì˜ ë„ë„ë“œ íŠ¸ëŸ¼í”„ ëŒ€í†µë ¹ê³¼ ì²« ì „í™” í†µí™”ë¥¼ ì§„í–‰í–ˆë‹¤. ì´ í†µí™”ëŠ” ì•½ 20ë¶„ê°„ ì´ì–´ì¡Œìœ¼ë©°, ì£¼ìš” í˜„ì•ˆì— ëŒ€í•œ ë…¼ì˜ê°€ ìžˆì—ˆë‹¤.2025ë…„ 6ì›” 6ì¼, ì´ìž¬ëª… ëŒ€í†µë ¹ì€ ë¯¸êµ­ì˜ ë„ë„ë“œ íŠ¸ëŸ¼í”„ ëŒ€í†µë ¹ê³¼ ì²« ì „í™” í†µí™”ë¥¼ ì§„í–‰í–ˆë‹¤. ì´ í†µí™”ëŠ” ì•½ 20ë¶„ê°„ ì´ì–´ì¡Œìœ¼ë©°, ì£¼ìš” í˜„ì•ˆì— ëŒ€í•œ ë…¼ì˜ê°€ ìžˆì—ˆë‹¤.2025ë…„ 6ì›” 6ì¼, ì´ìž¬ëª… ëŒ€í†µë ¹ì€ ë¯¸êµ­ì˜ ë„ë„ë“œ íŠ¸ëŸ¼í”„ ëŒ€í†µë ¹ê³¼ ì²« ì „í™” í†µí™”ë¥¼ ì§„í–‰í–ˆë‹¤. ì´ í†µí™”ëŠ” ì•½ 20ë¶„ê°„ ì´ì–´ì¡Œìœ¼ë©°, ì£¼ìš” í˜„ì•ˆì— ëŒ€í•œ ë…¼ì˜ê°€ ìžˆì—ˆë‹¤.2025ë…„ 6ì›” 6ì¼, ì´ìž¬ëª… ëŒ€í†µë ¹ì€ ë¯¸êµ­ì˜ ë„ë„ë“œ íŠ¸ëŸ¼í”„ ëŒ€í†µë ¹ê³¼ ì²« ì „í™” í†µí™”ë¥¼ ì§„í–‰í–ˆë‹¤. ì´ í†µí™”ëŠ” ì•½ 20ë¶„ê°„ ì´ì–´ì¡Œìœ¼ë©°, ì£¼ìš” í˜„ì•ˆì— ëŒ€í•œ ë…¼ì˜ê°€ ìžˆì—ˆë‹¤.2025ë…„ 6ì›” 6ì¼, ì´ìž¬ëª… ëŒ€í†µë ¹ì€ ë¯¸êµ­ì˜ ë„ë„ë“œ íŠ¸ëŸ¼í”„ ëŒ€í†µë ¹ê³¼ ì²« ì „í™” í†µí™”ë¥¼ ì§„í–‰í–ˆë‹¤. ì´ í†µí™”ëŠ” ì•½ 20ë¶„ê°„ ì´ì–´ì¡Œìœ¼ë©°, ì£¼ìš” í˜„ì•ˆì— ëŒ€í•œ ë…¼ì˜ê°€ ìžˆì—ˆë‹¤.2025ë…„ 6ì›” 6ì¼, ì´ìž¬ëª… ëŒ€í†µë ¹ì€ ë¯¸êµ­ì˜ ë„ë„ë“œ íŠ¸ëŸ¼í”„ ëŒ€í†µë ¹ê³¼ ì²« ì „í™” í†µí™”ë¥¼ ì§„í–‰í–ˆë‹¤. ì´ í†µí™”ëŠ” ì•½ 20ë¶„ê°„ ì´ì–´ì¡Œìœ¼ë©°, ì£¼ìš” í˜„ì•ˆì— ëŒ€í•œ ë…¼ì˜ê°€ ìžˆì—ˆë‹¤.2025ë…„ 6ì›” 6ì¼, ì´ìž¬ëª… ëŒ€í†µë ¹ì€ ë¯¸êµ­ì˜ ë„ë„ë“œ íŠ¸ëŸ¼í”„ ëŒ€í†µë ¹ê³¼ ì²« ì „í™” í†µí™”ë¥¼ ì§„í–‰í–ˆë‹¤. ì´ í†µí™”ëŠ” ì•½ 20ë¶„ê°„ ì´ì–´ì¡Œìœ¼ë©°, ì£¼ìš” í˜„ì•ˆì— ëŒ€í•œ ë…¼ì˜ê°€ ìžˆì—ˆë‹¤.2025ë…„ 6ì›” 6ì¼, ì´ìž¬ëª… ëŒ€í†µë ¹ì€ ë¯¸êµ­ì˜ ë„ë„ë“œ íŠ¸ëŸ¼í”„ ëŒ€í†µë ¹ê³¼ ì²« ì „í™” í†µí™”ë¥¼ ì§„í–‰í–ˆë‹¤. ì´ í†µí™”ëŠ” ì•½ 20ë¶„ê°„ ì´ì–´ì¡Œìœ¼ë©°, ì£¼ìš” í˜„ì•ˆì— ëŒ€í•œ ë…¼ì˜ê°€ ìžˆì—ˆë‹¤.2025ë…„ 6ì›” 6ì¼, ì´ìž¬ëª… ëŒ€í†µë ¹ì€ ë¯¸êµ­ì˜ ë„ë„ë“œ íŠ¸ëŸ¼í”„ ëŒ€í†µë ¹ê³¼ ì²« ì „í™” í†µí™”ë¥¼ ì§„í–‰í–ˆë‹¤. ì´ í†µí™”ëŠ” ì•½ 20ë¶„ê°„ ì´ì–´ì¡Œìœ¼ë©°, ì£¼ìš” í˜„ì•ˆì— ëŒ€í•œ ë…¼ì˜ê°€ ìžˆì—ˆë‹¤.2025ë…„ 6ì›” 6ì¼, ì´ìž¬ëª… ëŒ€í†µë ¹ì€ ë¯¸êµ­ì˜ ë„ë„ë“œ íŠ¸ëŸ¼í”„ ëŒ€í†µë ¹ê³¼ ì²« ì „í™” í†µí™”ë¥¼ ì§„í–‰í–ˆë‹¤. ì´ í†µí™”ëŠ” ì•½ 20ë¶„ê°„ ì´ì–´ì¡Œìœ¼ë©°, ì£¼ìš” í˜„ì•ˆì— ëŒ€í•œ ë…¼ì˜ê°€ ìžˆì—ˆë‹¤.2025ë…„ 6ì›” 6ì¼, ì´ìž¬ëª… ëŒ€í†µë ¹ì€ ë¯¸êµ­ì˜ ë„ë„ë“œ íŠ¸ëŸ¼í”„ ëŒ€í†µë ¹ê³¼ ì²« ì „í™” í†µí™”ë¥¼ ì§„í–‰í–ˆë‹¤. ì´ í†µí™”ëŠ” ì•½ 20ë¶„ê°„ ì´ì–´ì¡Œìœ¼ë©°, ì£¼ìš” í˜„ì•ˆì— ëŒ€í•œ ë…¼ì˜ê°€ ìžˆì—ˆë‹¤.`,
  sourceUrl: '#',
  question: 'ì´ìž¬ëª… ëŒ€í†µë ¹ê³¼ ë„ë„ë“œ íŠ¸ëŸ¼í”„ ë¯¸êµ­ ëŒ€í†µë ¹ì€ ì–¸ì œ ì²˜ìŒìœ¼ë¡œ í†µí™”ë¥¼ í–ˆë‚˜ìš”? ì´ìž¬ëª… ëŒ€í†µë ¹ê³¼ ë„ë„ë“œ íŠ¸ëŸ¼í”„ ë¯¸êµ­ ëŒ€í†µë ¹ì€ ì–¸ì œ ì²˜ìŒìœ¼ë¡œ í†µí™”ë¥¼ í–ˆë‚˜ìš”?',
  options: ['2025ë…„ 6ì›” 6ì¼', '2025ë…„ 6ì›” 7ì¼', '2025ë…„ 6ì›” 5ì¼', '2025ë…„ 6ì›” 8ì¼'],
  answer: '2025ë…„ 6ì›” 6ì¼',
  explanation: 'ê¸°ì‚¬ì— ë”°ë¥´ë©´, ì´ìž¬ëª… ëŒ€í†µë ¹ì€ 6ì›” 6ì¼ ì˜¤í›„ 10ì‹œë¶€í„° ì•½ 20ë¶„ê°„ íŠ¸ëŸ¼í”„ ëŒ€í†µë ¹ê³¼ ì²« í†µí™”ë¥¼ ê°€ì¡Œë‹¤ê³  ëª…ì‹œë˜ì–´ ìžˆìŠµë‹ˆë‹¤.',
};

const ArticleQuestionPage = () => {
  const [selected, setSelected] = useState(null);
  const navigate = useNavigate();
  const location = useLocation();

  const article = location.state?.article || dummyArticle;
  const language = location.state?.language || 'í•œêµ­ì–´';

   const handleSubmit = () => {
    if (selected) {
      navigate('/question-result', {
        state: {
          isCorrect: selected === article.answer,
          explanation: article.explanation,
          language: language,
        }
      });
    }
  };

  return (
    <div className="page-container article-question-layout">
      <div className="article-box">
        <h3 className="article-title">{article.title}</h3>
        <p className="article-summary">{article.summary}</p>
        <p className="article-content">{article.content}</p>
      </div>

      <div className="quiz-box">
        <h4 className="quiz-title">ðŸ’¡ ë¬¸ì œ</h4>
        <p className="quiz-question">{article.question}</p>
        <div className="quiz-options">
          {article.options.map((opt, idx) => (
            <button
              key={idx}
              className={`quiz-option ${selected === opt ? 'selected' : ''}`}
              onClick={() => setSelected(opt)}
            >
              {String.fromCharCode(65 + idx)}. {opt}
            </button>
          ))}
        </div>

        <div className="quiz-button-container">
          <button className="submit-button" disabled={!selected} onClick={handleSubmit}>
            ì •ë‹µ ì œì¶œ
          </button>
        </div>
      </div>
    </div>
  );
};

export default ArticleQuestionPage;
